[gd_scene load_steps=15 format=3 uid="uid://batlms262xfw8"]

[ext_resource type="Script" path="res://scenes/chars/player/player.gd" id="1_cc7ft"]
[ext_resource type="Script" path="res://scenes/chars/player/camera.gd" id="2_24bbx"]
[ext_resource type="PackedScene" uid="uid://dh14rra64w0x6" path="res://assets/mannequiny/mannequiny-0.3.0.glb" id="2_kkiik"]
[ext_resource type="Script" path="res://scenes/chars/player/hsm/state_machine.gd" id="3_l03ds"]
[ext_resource type="Script" path="res://scenes/chars/player/hsm/idle.gd" id="4_i50qs"]
[ext_resource type="Script" path="res://scenes/chars/player/hsm/run.gd" id="5_7pdn8"]
[ext_resource type="Script" path="res://scenes/chars/player/hsm/jump.gd" id="7_l16u7"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8rvml"]
radius = 0.257007
height = 1.8

[sub_resource type="BoxShape3D" id="BoxShape3D_vygs3"]
size = Vector3(0.2, 0.2, 0.2)

[sub_resource type="Animation" id="Animation_bm0ia"]
resource_name = "idle"

[sub_resource type="Animation" id="Animation_y3u3a"]
resource_name = "run"

[sub_resource type="Animation" id="Animation_hie6p"]
resource_name = "jump"

[sub_resource type="Animation" id="Animation_6ev80"]
resource_name = "fall"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dq4qj"]
_data = {
"fall": SubResource("Animation_6ev80"),
"idle": SubResource("Animation_bm0ia"),
"jump": SubResource("Animation_hie6p"),
"run": SubResource("Animation_y3u3a")
}

[node name="player" type="CharacterBody3D"]
script = ExtResource("1_cc7ft")

[node name="shape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_8rvml")

[node name="camera" type="Node3D" parent="."]
script = ExtResource("2_24bbx")

[node name="spring_arm" type="SpringArm3D" parent="camera"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 1.2, 0)
shape = SubResource("BoxShape3D_vygs3")
spring_length = 5.0

[node name="c" type="Camera3D" parent="camera/spring_arm"]
current = true

[node name="mesh" parent="." instance=ExtResource("2_kkiik")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.261584)

[node name="Skeleton3D" parent="mesh/root" index="0"]
bones/0/position = Vector3(-0.00275962, 0.96168, 0.214285)
bones/0/rotation = Quaternion(0.130706, 0.14469, -0.0101097, 0.980754)
bones/1/rotation = Quaternion(0.642602, 0.100594, 0.759567, 0.00130905)
bones/1/scale = Vector3(1, 1.02677, 1)
bones/2/rotation = Quaternion(-5.4833e-05, 5.28286e-05, 0.00256863, 0.999997)
bones/2/scale = Vector3(1.00004, 0.999812, 1)
bones/3/rotation = Quaternion(0.327531, 0.410023, -0.265166, 0.808883)
bones/3/scale = Vector3(0.999278, 0.989404, 0.986077)
bones/4/position = Vector3(0.00172314, 0.12762, -0.00308025)
bones/4/rotation = Quaternion(0.104574, 0.943003, 0.314868, -0.0258274)
bones/4/scale = Vector3(1.00016, 0.987595, 1.01209)
bones/5/rotation = Quaternion(0.900518, -0.076116, -0.421199, 0.076588)
bones/5/scale = Vector3(0.999994, 1.00862, 1)
bones/6/position = Vector3(-7.52217e-06, 0.389355, -1.06218e-05)
bones/6/rotation = Quaternion(1.38749e-05, 2.04178e-05, 0.00260448, -0.999997)
bones/6/scale = Vector3(0.999995, 0.999952, 1)
bones/7/rotation = Quaternion(0.268842, -0.612632, 0.283465, 0.687061)
bones/7/scale = Vector3(0.999925, 0.995933, 0.995646)
bones/8/position = Vector3(-0.000884361, 0.127664, -0.000781711)
bones/8/rotation = Quaternion(-0.0580456, 0.94624, 0.318111, 0.00808569)
bones/8/scale = Vector3(1.00001, 0.995893, 1.00409)
bones/9/rotation = Quaternion(-0.121236, -0.147591, 0.0121751, 0.981514)
bones/10/rotation = Quaternion(-0.070256, 0.00329325, 0.000231944, 0.997524)
bones/11/rotation = Quaternion(0.313699, 0.00638647, 0.00211009, 0.949499)
bones/12/rotation = Quaternion(-0.16917, -0.00666159, -0.00113572, 0.985564)
bones/13/rotation = Quaternion(-0.467321, 0.60982, -0.507932, -0.389533)
bones/14/rotation = Quaternion(0.427481, 0.522334, 0.367779, 0.63966)
bones/16/rotation = Quaternion(0.0577199, 0.282872, -0.00699935, 0.957394)
bones/17/position = Vector3(-0.0491595, 0.0501176, -0.0046353)
bones/17/rotation = Quaternion(0.04647, -0.786923, 0.317009, 0.52735)
bones/18/position = Vector3(1.37459e-05, 0.0210912, -1.02403e-05)
bones/18/rotation = Quaternion(-0.0242231, -0.306659, 0.0625979, 0.94945)
bones/19/rotation = Quaternion(-0.00920803, 0.438728, 0.00859652, 0.898532)
bones/20/position = Vector3(0.0245641, 0.0860774, -0.00148922)
bones/20/rotation = Quaternion(-0.713079, 0.123774, -0.0283914, 0.689487)
bones/21/rotation = Quaternion(-0.585514, -0.0205617, 0.00933686, 0.810348)
bones/21/scale = Vector3(0.999999, 1.00002, 0.999983)
bones/22/rotation = Quaternion(-0.587469, -0.00381405, -0.00984873, 0.809178)
bones/22/scale = Vector3(0.999999, 0.999987, 1.00001)
bones/23/position = Vector3(-0.00260021, 0.0868997, 0.000367173)
bones/23/rotation = Quaternion(-0.450182, 0.161464, -0.036356, 0.877464)
bones/23/scale = Vector3(1, 0.999974, 1.00002)
bones/24/rotation = Quaternion(-0.64571, -0.00769479, -0.019444, 0.763296)
bones/24/scale = Vector3(0.999998, 1, 0.999997)
bones/25/rotation = Quaternion(-0.639766, -0.0177412, -0.0200563, 0.768103)
bones/25/scale = Vector3(0.999999, 0.999999, 1)
bones/26/position = Vector3(-0.03224, 0.0834547, -0.00189892)
bones/26/rotation = Quaternion(-0.425604, 0.144516, -0.0385395, 0.892464)
bones/26/scale = Vector3(1, 0.999973, 1.00002)
bones/27/rotation = Quaternion(-0.583528, 0.00193107, -0.0536861, 0.810315)
bones/27/scale = Vector3(0.999999, 1.00001, 0.999995)
bones/28/rotation = Quaternion(-0.59928, 0.00781416, -0.0296322, 0.799953)
bones/28/scale = Vector3(0.999998, 1, 0.999995)
bones/29/rotation = Quaternion(0.46739, 0.609865, -0.507782, 0.389575)
bones/30/rotation = Quaternion(-0.427502, 0.522357, 0.367644, -0.639705)
bones/31/rotation = Quaternion(0.311974, -0.126407, -0.23658, 0.91144)
bones/31/scale = Vector3(1, 0.999931, 1)
bones/32/rotation = Quaternion(0.0577651, -0.282681, 0.00732699, 0.957445)
bones/32/scale = Vector3(1, 1.00007, 1)
bones/33/position = Vector3(0.049144, 0.0500866, -0.00465548)
bones/33/rotation = Quaternion(0.0467024, 0.787035, -0.31693, 0.527209)
bones/33/scale = Vector3(1, 0.999996, 1)
bones/34/rotation = Quaternion(-0.0241585, 0.306849, -0.0624173, 0.949402)
bones/34/scale = Vector3(0.999996, 0.999998, 1)
bones/35/rotation = Quaternion(-0.00928852, -0.438529, -0.0084081, 0.89863)
bones/36/position = Vector3(-0.0246038, 0.0860432, -0.00150627)
bones/36/rotation = Quaternion(-0.713037, -0.123599, 0.0292083, 0.689528)
bones/37/rotation = Quaternion(-0.585549, 0.0207861, -0.00922255, 0.810318)
bones/37/scale = Vector3(1, 1, 0.999995)
bones/38/rotation = Quaternion(-0.587466, 0.00385811, 0.0101543, 0.809176)
bones/38/scale = Vector3(0.999999, 0.999996, 1)
bones/39/position = Vector3(0.0025612, 0.08687, 0.000348792)
bones/39/rotation = Quaternion(-0.450104, -0.161248, 0.0368448, 0.877524)
bones/39/scale = Vector3(1, 0.999993, 1.00001)
bones/40/rotation = Quaternion(-0.645696, 0.00768043, 0.0197532, 0.763301)
bones/41/rotation = Quaternion(-0.639762, 0.0177706, 0.0203459, 0.768098)
bones/42/position = Vector3(0.0322059, 0.0834291, -0.00191959)
bones/42/rotation = Quaternion(-0.425481, -0.144288, 0.0390194, 0.892538)
bones/42/scale = Vector3(1, 0.999993, 1.00001)
bones/43/rotation = Quaternion(-0.583503, -0.00190964, 0.0540078, 0.810311)
bones/44/rotation = Quaternion(-0.599265, -0.00776456, 0.0298964, 0.799954)

[node name="anim_player" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_dq4qj")
}

[node name="state_machine" type="LimboHSM" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("3_l03ds")
player = NodePath("..")

[node name="idle" type="LimboState" parent="state_machine" node_paths=PackedStringArray("animation_player")]
script = ExtResource("4_i50qs")
animation_player = NodePath("../../mesh/AnimationPlayer")
idle_animation = &"idle"

[node name="run" type="LimboState" parent="state_machine" node_paths=PackedStringArray("animation_player")]
script = ExtResource("5_7pdn8")
animation_player = NodePath("../../mesh/AnimationPlayer")
animation = &"run"

[node name="jump" type="LimboState" parent="state_machine"]
script = ExtResource("7_l16u7")

[connection signal="ready" from="." to="state_machine" method="setup_state_machine"]

[editable path="mesh"]
